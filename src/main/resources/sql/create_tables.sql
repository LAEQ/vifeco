CREATE TABLE IF NOT EXISTS USER (ID INTEGER PRIMARY KEY, LAST_NAME varchar(30) NOT NULL DEFAULT '', FIRST_NAME varchar(30) NOT NULL DEFAULT '', EMAIL varchar(60) NOT NULL DEFAULT '', IS_DEFAULT boolean DEFAULT FALSE);
CREATE TABLE IF NOT EXISTS CATEGORY (ID INTEGER PRIMARY KEY, NAME varchar(30) NOT NULL, ICON TEXT(30000) NOT NULL, COLOR VARCHAR(9) NOT NULL, SHORTCUT varchar(1) NOT NULL);
CREATE TABLE IF NOT EXISTS COLLECTION(ID INTEGER PRIMARY KEY, NAME varchar(30) NOT NULL, IS_DEFAULT boolean DEFAULT FALSE);
CREATE TABLE IF NOT EXISTS CATEGORY_COLLECTION(COLLECTION_ID int NOT NULL, CATEGORY_ID int NOT NULL, CONSTRAINT fk_category_catcol FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY(ID) ON DELETE CASCADE, CONSTRAINT fk_collection_catcol FOREIGN KEY (COLLECTION_ID) REFERENCES COLLECTION(ID) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS VIDEO (ID INTEGER PRIMARY KEY, PATH TEXT(30000) NOT NULL, DURATION DOUBLE NOT NULL, USER_ID INT NOT NULL, COLLECTION_ID int NOT NULL, CONSTRAINT fk_user_vid FOREIGN KEY(USER_ID) REFERENCES USER(ID) ON DELETE CASCADE, CONSTRAINT fk_collection_vid FOREIGN KEY (COLLECTION_ID) REFERENCES COLLECTION(ID) ON DELETE CASCADE);
CREATE TABLE IF NOT EXISTS POINT (ID INTEGER PRIMARY KEY, X double NOT NULL, Y double NOT NULL, VIDEO_ID int NOT NULL, CATEGORY_ID int NOT NULL, START double NOT NULL, CONSTRAINT fk_video_pt FOREIGN KEY(VIDEO_ID) REFERENCES VIDEO(ID) ON DELETE CASCADE, CONSTRAINT fk_category_pt FOREIGN KEY(CATEGORY_ID) REFERENCES CATEGORY(ID) ON DELETE CASCADE);